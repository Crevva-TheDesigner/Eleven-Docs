@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 20 14.3% 4.1%;
    --foreground: 0 0% 98%;
    --card: 20 14.3% 4.1%;
    --card-foreground: 0 0% 98%;
    --popover: 20 14.3% 4.1%;
    --popover-foreground: 0 0% 98%;
    --primary: 220 13% 91%;
    --primary-foreground: 220 13% 11%;
    --secondary: 24 9.8% 10%;
    --secondary-foreground: 0 0% 98%;
    --muted: 24 9.8% 10%;
    --muted-foreground: 240 5% 64.9%;
    --accent: 24 9.8% 10%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 24 9.8% 10%;
    --input: 24 9.8% 10%;
    --ring: 220 13% 91%;
    --radius: 9999px;
  }

  .light {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 220 13% 21%;
    --primary-foreground: 220 13% 91%;
    --secondary: 0 0% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 0 0% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 0 0% 94%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --ring: 220 13% 21%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  html {
    @apply scroll-smooth;
  }
  body {
    @apply bg-background text-foreground;
  }
  
  html, body, a, button, input, select, textarea {
    cursor: none !important;
  }
}

.down-arrow {
  animation: bounce 2s infinite;
}

@keyframes bounce {
  0%, 20%, 50%, 80%, 100% {
    transform: translateY(0);
  }
  40% {
    transform: translateY(-20px);
  }
  60% {
    transform: translateY(-10px);
  }
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(5px); }
  to { opacity: 1; transform: translateY(0); }
}

.page-transition {
  animation: fadeIn 0.4s ease-out forwards;
}

.tour-highlight {
  outline: 3px solid hsl(var(--primary));
  box-shadow: 0 0 20px hsl(var(--primary) / 0.7);
  border-radius: 1.5rem;
  transition: outline 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
  z-index: 55; /* Ensure it's above other elements but below tour card */
  position: relative;
}

/* Basic Markdown styling */
.prose h1, .prose h2, .prose h3, .prose h4, .prose h5, .prose h6 { @apply font-bold mt-6 mb-3; }
.prose h1 { @apply text-4xl; }
.prose h2 { @apply text-3xl; }
.prose h3 { @apply text-2xl; }
.prose h4 { @apply text-xl; }
.prose p { @apply my-4; }
.prose a { @apply text-primary hover:underline; }
.prose ul, .prose ol { @apply my-4 ml-6; }
.prose ul { @apply list-disc; }
.prose ol { @apply list-decimal; }
.prose li { @apply my-2; }
.prose blockquote { @apply my-4 pl-4 border-l-4 border-border italic text-muted-foreground; }
.prose pre { @apply my-4 p-4 rounded-lg bg-secondary text-secondary-foreground overflow-x-auto; }
.prose code { @apply px-1 py-0.5 rounded bg-muted font-code text-sm; }
.prose pre code { @apply bg-transparent p-0; }
.prose table { @apply my-6 w-full table-auto border-collapse; }
.prose th, .prose td { @apply border px-4 py-2; }
.prose th { @apply font-semibold bg-muted; }

/* Blurs the generated content preview after the first paragraph */
.preview-blur.prose > p:first-of-type ~ * {
  filter: blur(5px);
  user-select: none;
  pointer-events: none;
}

.btn-wipe-ltr {
  position: relative;
  z-index: 0;
  overflow: hidden;
  transition: color 0.3s ease-in-out;
}
.btn-wipe-ltr::before {
  content: '';
  position: absolute;
  z-index: -1;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  background-color: hsl(var(--muted));
  transform: scaleX(0);
  transform-origin: left;
  transition: transform 0.3s ease-in-out;
}
.btn-wipe-ltr:hover {
  color: hsl(var(--muted-foreground));
}
.btn-wipe-ltr:hover::before {
  transform: scaleX(1);
}


/* Print-specific styles */
@media print {
  .non-printable {
    display: none !important;
  }
  body * {
    visibility: hidden;
  }
  .printable-area, .printable-area * {
    visibility: visible;
  }
  .printable-area {
    position: static;
    width: 100%;
    margin: 0;
    border: none !important;
    box-shadow: none !important;
  }
  @page {
    size: auto;
    margin: 0.5in;
  }
}

/* Static Blurred Bubbles */
.bubble {
  position: absolute;
  background-color: hsl(var(--primary) / 0.1);
  border-radius: 9999px;
  filter: blur(32px);
}

/* Custom Cursor Styles */
.cursor-dot,
.cursor-outline {
  position: fixed;
  top: 0;
  left: 0;
  transform: translate(-50%, -50%);
  border-radius: 50%;
  pointer-events: none;
  z-index: 9999;
}

.cursor-dot {
  width: 6px;
  height: 6px;
  background-color: hsl(var(--primary));
  transition: width 0.2s ease-out, height 0.2s ease-out;
  transition-delay: 0.05s;
}

.cursor-outline {
  width: 30px;
  height: 30px;
  background-color: transparent;
  border: 2px solid hsl(var(--primary) / 0.5);
  transition: width 0.2s ease-out, height 0.2s ease-out, background-color 0.2s ease-out, border-color 0.2s ease-out;
}

.cursor-outline--hover {
  width: 50px;
  height: 50px;
  background-color: hsl(var(--primary) / 0.1);
  border-color: transparent;
}


@media (pointer: coarse) {
  .cursor-dot,
  .cursor-outline {
    display: none;
  }

  html,
  body,
  a,
  button,
  input,
  select,
  textarea {
    cursor: auto !important;
  }
}